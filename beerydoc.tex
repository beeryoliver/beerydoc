\documentclass{beerydoc}


\begin{document}


\section*{\LARGE The \cls{beerydoc} class}

Class designed for the documentation of my packages

Oliver Beery

Version 0.0.0\quad 26 February 2026


\section{About}
\label{sec:about}

Documentation for the \cls{beerydoc} class.

\subsection{Loading the class}
\label{subsec:loading}

\listheading{Requirements:}
\begin{itemize}
  \item \LaTeXe{} version 2023-11-01 or newer
  \item \pkg{l3kernel} version 2023-11-01 or newer
  \item Must be compiled with Lua\LaTeX.
\end{itemize}

\subsection{Package option}
\label{subsec:pkgoptions}

\begin{code}{showframe}
  Passes option \key{showframe} to the \pkg{geometry} package.
\end{code}

\subsection{Miscellaneous}
\label{subsec:misc}

The vertical bar \texttt{\textbar} is set as an active character, a shortcut
for verbatim.


\section{Commands}
\label{sec:commands}

\subsection{Markup for package and class commands}
\label{subsec:clsmarkup}

\begin{code}{\key}
  \begin{syntax}
    \cs{key} \marg*{\meta{key}=\meta{value}}
    \cs{key} \marg{key}
    \cs{key} \marg*{=\meta{value}}
  \end{syntax}
  Prints a key-value pair, a key, or the value of a key.
  \meta{key} and \meta{value} are printed in \cs{ttfamily}.
  The |=| in \marg*{\meta{key}=\meta{value}} is reformatted and a line break is
  allowed afterwards.
  The leading |=| in \marg*{=\meta{value}} is omitted.
  Within \meta{key}, line breaks are allowed after |/|.
  Within \meta{value}, spaces are replaced by \cs{textvisiblespace}.
  Sometimes the best way to typeset the value of a key is not with
  \cs{key}\marg*{=\meta{value}}, but with \cs{num}, \cs{qty},
  (both from the \pkg{siunitx} package) or \cs{meta}.
\end{code}

\begin{code}{\choices}
  \begin{syntax}
    \cs{choices} \marg{comma list}
  \end{syntax}
  This command is defined only in \meta{value} in \cs{key}.
  Prints the available choices in \meta{comma list} when documenting a choice
  key.
\end{code}

\begin{code}{\cs}
  \begin{syntax}
    \cs{cs} \marg{command}
  \end{syntax}
  Prints a command.
  \meta{command} must omit the leading backslash |\|.
  The contents are printed in \cs{ttfamily}.
  \cs{meta} and other commands can be used in \meta{command}.
  The underscore |_| can be typeset directly without escaping it \cs{_}.
  When printing \pkg{expl3} commands, hyphenation is allowed after most
  underscores.
  Spaces are replaced by \cs{textvisiblespace}.
  % A double at symbol |@@| will be replaced by the module name using the same
  % convention used in \pkg{docstrip}.
  Active vertical bars \texttt{\textbar} are replaced by that of catcode 12.
\end{code}

\begin{code}{\meta}
  \begin{syntax}
    \cs{meta} \marg{meta}
  \end{syntax}
  Prints a meta representation such as \meta{token list}, \meta{string}, and
  \meta{comma list}.
  The contents are printed in \cs{ttfamily} and \cs{slshape}.
  \cs{meta} is usuable in math mode.

  \listheading
    {
      Within \meta{meta}, the underscore \texttt{\textunderscore} is used to
      apply a subscript.
      For example, the code on the left prints the display on the right.
    }
  \begin{itemize}[parsep=0pt]
    \item |\meta{token list_1}| \rightarrow{} \meta{token list_1}
    \item |\meta{integer_2}| \rightarrow{} \meta{integer_2}
  \end{itemize}
\end{code}

\begin{code}{\marg}
  \begin{syntax}
    \cs{marg} \sarg{} \marg{argument}
  \end{syntax}
  Prints a mandatory argument.
  The contents are enclosed in braces and printed in \cs{ttfamily}.
  If the optional star is omitted, \meta{argument} is formatted using
  \cs{meta}.
\end{code}

\begin{code}{\oarg}
  \begin{syntax}
    \cs{oarg} \sarg{} \marg{argument}
  \end{syntax}
  Prints an optional argument.
  The contents are enclosed in square brackets and printed in \cs{ttfamily}.
  If the optional star is omitted, \meta{argument} is formatted using
  \cs{meta}.
\end{code}

\begin{code}{\sarg}
  Prints an optional star.
  The optional star is enclosed in angle brackets and printed in \cs{ttfamily}.
\end{code}

\begin{code}{\cls, \env, \pkg, \hook, \socket, \plug}
  \begin{syntax}
    \cs{cls}    \marg{class}
    \cs{pkg}    \marg{package}
    \cs{env}    \marg{environment}
    \cs{hook}   \marg{hook}
    \cs{socket} \marg{socket}
    \cs{plug}   \marg{plug}
  \end{syntax}
  Prints the name of a class, package, environment, hook, socket, or plug.
  \meta{class} and \meta{package} are printed in \cs{sffamily}.
  The rest are printed in \cs{ttfamily}.
  Within \meta{hook} and \meta{socket}, line breaks after allowed after |/|.
\end{code}

\subsection{Some text formatting}
\label{subsec:text}

\begin{code}{\allcaps}
  \begin{syntax}
    \cs{allcaps} \oarg{integer} \marg{text}
  \end{syntax}
  Prints \meta{text} in all capital letters with added letterspacing.
  The added letterspacing equals \meta{integer} in units of thousandths of
  \unit{em} or, if the optional argument is omitted, \qty{0.05}{em}.
\end{code}

\begin{code}{\allsmallcaps}
  \begin{syntax}
    \cs{allsmallcaps} \sarg{} \oarg{integer} \marg{text}
  \end{syntax}
  Prints \meta{text} in all small caps with added letterspacing.
  The added letterspacing equals \meta{integer} in units of thousandths of
  \unit{em} or, if the optional argument is omitted, \qty{0.05}{em}.
  If the optional star is added, capital letters are also changed to small
  caps.
\end{code}

\begin{code}{\honorific}
  \begin{syntax}
    \cs{honorific} \marg{honorific}
  \end{syntax}
  Prints an honorific such as Mr., Ms., or Dr.
  This command should only be used before the name of the person.
\end{code}

\begin{code}{\latin}
  \begin{syntax}
    \cs{latin} \marg{text}
  \end{syntax}
  Prints a latin phrase.
  The contents are printed in \cs{itshape}.
\end{code}

\subsection{Expandable commands}
\label{subec:expandable}

Some expandable commands that are useful for testing.

\begin{code}{\alphabet}
  Expands to \enquote{\alphabet}.
\end{code}

\begin{code}{\digits}
  Expands to \enquote{\digits}.
\end{code}

\begin{code}{\pangram}
  Expands to \enquote{\pangram}
\end{code}

\subsection{Other}
\label{subsec:other}

\begin{code}{\muskipeval}
  Equivalent to \cs{muskip_eval:n}.
\end{code}

\begin{code}{\printfontsizecommand}
  Identical to \cs{printfontsizecommand} defined by the \pkg{fontscale}
  package, except that the command name is formatted using \cs{cs}
  (\S\ref{subsec:clsmarkup}).
\end{code}


\section{Environments}
\label{sec:environments}

This section documents the environments provided by the \cls{beerydoc} class.

\begin{code}{\begin{code}}
  \begin{syntax}
    |\begin{code}| \marg{code elements}
    ~~\meta{code documentation}
    |\end{code}|
  \end{syntax}
  Used to document code elements such commands, keys, and environments.
  \meta{code elements} should contain a comma-separated list of the documented
  code elements.
  The content is contained within an \pkg{expl3} |coffin| to prevent page
  breaks.
  Cannot be used within another \env{code} environment.
\end{code}

\begin{code}{\begin{syntax}}
  \begin{syntax}
    |\begin{syntax}|
    ~~\meta{code syntax}
    |\end{syntax}|
  \end{syntax}
  Used to document code syntax.
  Must be used within a \env{code} environment.
  The contents are printed in \cs{ttfamily}.
  \cs{obeylines} and \cs{obeyspaces} are enabled within a \env{syntax}
  environment.
  Cannot be used within another \env{syntax} environment.
\end{code}


\end{document}
